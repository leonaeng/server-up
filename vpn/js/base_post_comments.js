function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.lozad=t()}(this,(function(){"use strict";var e="undefined"!=typeof document&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(t){if("picture"===t.nodeName.toLowerCase()){var o=t.querySelector("img"),n=!1;null===o&&(o=document.createElement("img"),n=!0),e&&t.getAttribute("data-iesrc")&&(o.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(o.alt=t.getAttribute("data-alt")),n&&t.append(o)}if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var r=t.children,i=void 0,a=0;a<=r.length-1;a++)(i=r[a].getAttribute("data-src"))&&(r[a].src=i);t.load()}t.getAttribute("data-poster")&&(t.poster=t.getAttribute("data-poster")),t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"));var s=",";if(t.getAttribute("data-background-delimiter")&&(s=t.getAttribute("data-background-delimiter")),t.getAttribute("data-background-image"))t.style.backgroundImage="url('"+t.getAttribute("data-background-image").split(s).join("'),url('")+"')";else if(t.getAttribute("data-background-image-set")){var l=t.getAttribute("data-background-image-set").split(s),c=l[0].substr(0,l[0].indexOf(" "))||l[0];c=-1===c.indexOf("url(")?"url("+c+")":c,1===l.length?t.style.backgroundImage=c:t.setAttribute("style",(t.getAttribute("style")||"")+"background-image: "+c+"; background-image: -webkit-image-set("+l+"); background-image: image-set("+l+")")}t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function o(e){e.setAttribute("data-loaded",!0)}var n=function(e){return"true"===e.getAttribute("data-loaded")},r=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return e instanceof Element?[e]:e instanceof NodeList?e:t.querySelectorAll(e)};return function(){var e,i,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=Object.assign({},t,s),c=l.root,d=l.rootMargin,u=l.threshold,m=l.load,y=l.loaded,p=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(p=new IntersectionObserver((e=m,i=y,function(t,r){t.forEach((function(t){(0<t.intersectionRatio||t.isIntersecting)&&(r.unobserve(t.target),n(t.target)||(e(t.target),o(t.target),i(t.target)))}))}),{root:c,rootMargin:d,threshold:u}));for(var g,f=r(a,c),v=0;v<f.length;v++)(g=f[v]).getAttribute("data-placeholder-background")&&(g.style.background=g.getAttribute("data-placeholder-background"));return{observe:function(){for(var e=r(a,c),t=0;t<e.length;t++)n(e[t])||(p?p.observe(e[t]):(m(e[t]),o(e[t]),y(e[t])))},triggerLoad:function(e){n(e)||(m(e),o(e),y(e))},observer:p}}}));var observer=lozad(".lazy",{rootMargin:"10px 0px",threshold:.1});observer.observe(),Element.prototype.fadeInCustom||(Element.prototype.fadeInCustom=function(){var e=isNaN(arguments[0])?400:arguments[0],t="function"==typeof arguments[0]?arguments[0]:"function"==typeof arguments[1]?arguments[1]:null,o=!0===arguments[2]?"block":"inline-block";this.style.opacity=0,this.style.filter="alpha(opacity=0)",this.style.display=o,this.style.visibility="visible";var n=this,r=0,i=setInterval((function(){(r+=50/e)>=1&&(clearInterval(i),r=1,t&&t("done!")),n.style.opacity=r,n.style.filter="alpha(opacity="+100*r+")"}),50)}),Element.prototype.fadeOutCustom||(Element.prototype.fadeOutCustom=function(){var e=isNaN(arguments[0])?400:arguments[0],t="function"==typeof arguments[0]?arguments[0]:"function"==typeof arguments[1]?arguments[1]:null,o=this,n=1,r=setInterval((function(){(n-=50/e)<=0&&(clearInterval(r),n=0,o.style.display="none",o.style.visibility="hidden",t&&t("done!")),o.style.opacity=n,o.style.filter="alpha(opacity="+100*n+")"}),50)}),Element.prototype.toggleCustom||(Element.prototype.toggleCustom=function(){""===this.style.display&&(this.style.display="none"),"block"===this.style.display?this.style.display="none":this.style.display="block"});var slideToggleCustom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return"none"===window.getComputedStyle(e).display?slideDownCustom(e,t):slideUpCustom(e,t)},Search=document.querySelector(".tw-search");Search.addEventListener("click",(function(e){Search.classList.contains("active")?(slideUpCustom(document.querySelector(".tw-header-search"),250),Search.classList.remove("active")):(Search.classList.add("active"),slideDownCustom(document.querySelector(".tw-header-search"),250),document.querySelector(".tw-header-search input").focus())}));var isInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},slideUpCustom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},slideDownCustom=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.removeProperty("display");var o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;var n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},loaded=!0;if(window.addEventListener("scroll",(function(){var e=window.scrollY,t=document.querySelector(".jump-to-top");e>200?(loaded&&t.fadeInCustom(200),loaded=!1):(loaded||t.fadeOutCustom(200),loaded=!0)})),document.querySelector("a.more").addEventListener("click",(function(e){return!1})),window.screen.width>991){var navigationList=document.querySelectorAll(".navigation-list");for(var i in navigationList)navigationList.hasOwnProperty(i)&&(navigationList[i].addEventListener("mouseenter",(function(){var e=event.target.closest(".navigation-list"),t=e.querySelector(".tw-dropdown");slideDownCustom(t,200),e.classList.add("active"),t.style.removeProperty("display")})),navigationList[i].addEventListener("mouseleave",(function(){event.target.closest(".navigation-list").classList.remove("active"),document.querySelectorAll(".tw-dropdown").forEach((function(e){e.style.display="none"}))})))}else document.querySelector(".tw-mobile-menu-toggle").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".tw-nav-static").toggleCustom(),document.querySelector(".tw-nav-categories").toggleCustom()})),document.querySelectorAll('[class*="tw-nav-"] .more').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest("a.more"),o=e.target.parentNode.querySelector(".tw-dropdown");"block"===o.style.display?(t.classList.remove("active"),o.style.display="none"):(document.querySelectorAll('[class*="tw-nav-"] .more').forEach((function(e){e.classList.remove("active"),e.parentNode.querySelector(".tw-dropdown").style.display="none"})),t.scrollIntoView(),t.classList.add("active"),o.style.display="block")}))}));window.addEventListener("load",(function(){var e=document.querySelector(".fixed-widgets"),t=document.querySelectorAll(".table-of-contents ul li a");if(window.screen.width>991&&e){var o=window.pageYOffset+e.getBoundingClientRect().top-24;t.forEach((function(e){e.addEventListener("click",(function(e){t.forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active")}))})),window.scrollY>=o&&e.classList.add("fixed"),window.onscroll=function(){document.querySelector(".widget").classList.contains("how-we-review")||document.querySelectorAll("h2").forEach((function(e){var o;e.hasAttribute("id")&&(o=e.getBoundingClientRect()).top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth)&&(t.forEach((function(e){e.classList.remove("active")})),null!==document.querySelector("a.toc-h2[href='#"+e.getAttribute("id")+"']")&&document.querySelector("a.toc-h2[href='#"+e.getAttribute("id")+"']").classList.add("active"))})),window.scrollY>=o?(e.classList.remove("absolute"),e.classList.add("fixed")):e.classList.remove("fixed"),window.scrollY>=document.querySelector(".main-footer").offsetTop-60-e.offsetHeight-24&&(e.classList.remove("fixed"),e.classList.add("absolute"))}}})),window.addEventListener("load",(function(){var e=document.querySelector(".js-article-comment-buttons > .btn-primary"),t=document.querySelectorAll("a.comment__reply-button"),o=".comment-form",n=document.querySelector('form[name="comment-form"]'),r=document.getElementById("tos-accepted"),i=document.querySelector(".comments-error-tos"),a=document.getElementById("_parent_id"),s=document.querySelector(".input-status.text-danger"),l=document.querySelector(".comments-error-name"),c=document.querySelector(".comments-error-email"),d=document.querySelector(".comments-error-message"),u=".comment-errors",m=".form-errors",y=document.querySelector(o+" > h4").textContent,p=".comment-success",g=".loadmore",f=document.querySelector(".js-object-data");e.addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector(o+" > h4");y!==t.textContent&&(t.innerHTML=y),document.querySelector(p).style.display="none",document.querySelector(o).fadeInCustom(200,(function(){document.querySelector(o).scrollIntoView()}),!0)})),t.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.dataset.parentId,n=e.target.parentElement.querySelector(".js-comment-author-name").textContent,r=document.querySelector(o+" > h4");document.querySelector(p).style.display="none",r.innerHTML="Reply to "+n,a.value=t,document.querySelector(o).fadeInCustom(200,(function(){document.querySelector(o).scrollIntoView()}),!0)}))})),n.addEventListener("submit",(function(e){if(e.preventDefault(),s.style.display="none",i.style.display="none",s.innerHTML="",!1===r.checked)return i.innerHTML='<i class="icon-exclamation-circle"></i> <span>Please accept our Privacy Policy.</span>',i.style.display="block",!1;var t="/api/send_comment/"+f.dataset.objectType+"/"+f.dataset.objectId,n=Object.fromEntries(new FormData(e.target).entries());fetch(t,{method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?e.text().then((function(e){var t=JSON.parse(e);t.success?document.querySelector(o).fadeOutCustom(150,(function(){document.querySelector(p).style.display="block",document.querySelector("form[name='comment-form']").reset()})):"string"==typeof t.error?(document.querySelector(u).innerHTML='<p class="form-errors"><i class="icon-exclamation-triangle"></i> <span>'+t.error+"</span></p>",document.querySelector(u).style.display="block",document.querySelector(m).style.display="block"):(s.style.display="block",t.error.hasOwnProperty("name")&&("validation.required"===t.error.name[0]&&(l.innerHTML='<i class="icon-exclamation-circle"></i> <span>Please fill out the name field.</span>'),"validation.min.string"===t.error.name[0]&&(l.innerHTML='<i class="icon-exclamation-circle"></i> <span>Please enter minimum 3 characters.</span>'),l.style.display="block"),t.error.hasOwnProperty("email")&&(c.innerHTML='<i class="icon-exclamation-circle"></i> <span>Please enter your email address.</span>',c.style.display="block"),t.error.hasOwnProperty("message")&&("validation.required"===t.error.message[0]&&(d.innerHTML='<i class="icon-exclamation-circle"></i> <span>Please fill out the message field.</span>'),"validation.min.string"===t.error.message[0]&&(d.innerHTML='<i class="icon-exclamation-circle"></i> <span>Comment must be at least 5 characters long.</span>'),d.style.display="block"))})):(document.querySelector(u).innerHTML='<p class="form-errors"><i class="icon-exclamation-triangle"></i> <span>There\'s been an error while submitting the form.</span></p>',document.querySelector(u).style.display="block",document.querySelector(m).style.display="block")})).catch((function(e){console.log(e)}))}));var v=4,h=document.querySelector("#comments").dataset.mainCommentsCount;h>0&&null!==document.querySelector(g)&&document.querySelector(g).addEventListener("click",(function(){var e=f.dataset.objectType,t=f.dataset.objectId+"/?start="+v+"&count=4&lang="+window.locale;fetch("review"===e?"/api/get_comments/review/"+t:"/api/get_comments/"+t,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){e.ok&&e.text().then((function(e){v+=4,document.querySelector(".comments-container").innerHTML+=e,lozad(".lazy",{rootMargin:"10px 0px",threshold:.1}).observe()}))})),h<=v&&(document.querySelector(g).style.display="none")})),lozad(".lazy",{rootMargin:"10px 0px",threshold:.1}).observe()})),window.addEventListener("load",(function(){var e=document.querySelector(".js-object-data").getAttribute("data-object-id"),t=document.querySelector("#privacy-alert-box"),o=!1;window.addEventListener("scroll",(function(){isInViewport(t)&&!o&&(o=!0,fetch("/api/privacy-alert/"+e,{headers:{"Content-Type":"application/json",accept:"application/json"}}).then((function(e){e.ok&&e.text().then((function(e){var o=JSON.parse(e);o.success&&(t.innerHTML="<div>"+o.view+"<div />")}))})).catch((function(e){console.log(e)})))}))}));