var hasHookedTimeUtil=!1;!function(t,e,i){"use strict";ips.controller.register("g17.timecachebust",{initialize:function(){hasHookedTimeUtil||this.hookTimeUtil(),this.setup()},setup:function(){this.scope.find("time").each((function(e){var i=Math.floor(new Date(t(this).attr("datetime")).getTime()/1e3);t(this).text(ips.utils.time.readable(i))}))},hookTimeUtil:function(){ips.setString("date_yesterday","Yesterday at {{time}}"),ips.setString("date_this_week","{{day}} at {{time}}");var e=ips.utils.time.readable;ips.utils.time.readable=function(i){var a=(m=(new Date).getTime()/1e3)+0-i;if(a>86400&&a<172800){var s=new Date(1e3*i),r=ips.utils.time.localeTimeFormat(t("html").attr("lang")),m=ips.utils.time.formatTime(s,r);return ips.getString("date_yesterday",{time:m})}if(a>172800&&a<518400){s=new Date(1e3*i),r=ips.utils.time.localeTimeFormat(t("html").attr("lang")),m=ips.utils.time.formatTime(s,r);return ips.getString("date_this_week",{day:ips.getString("day_"+s.getDay()),time:m})}return e(i)},hasHookedTimeUtil=!0}})}(jQuery,_);